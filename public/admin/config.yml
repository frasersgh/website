backend:
  # test cms layout locally
  # name: test-repo
  # use cms layout from github
  name: git-gateway
  branch: main

publish_mode: editorial_workflow
site_url: https://frasers-admin.netlify.app/
# display_url: Frasers Website
# logo_url: https://frasers-nextjs.vercel.app/images/frasers-logo.png

media_folder: 'public/images'
public_folder: '/images'

collections:
  - label: 'Site Content'
    name: 'content'
    files:
      - label: 'Site Configuration'
        name: 'site-config'
        file: '/public/data/config.json'
        fields:
          - { label: Address, name: address, widget: string }
          - { label: Phone Number, name: phoneNumber, widget: string }

      - label: 'About Owner'
        name: 'aboutOwner'
        file: '/public/data/about-owner.md'
        fields:
          - {label: "Layout", name: "layout", widget: "hidden", default: "about"}
          - { label: 'Title', name: 'title', widget: 'string' }
          - { label: 'Subtitle', name: 'subtitle', widget: 'string' }
          - { label: 'Publish Date', name: 'date', widget: 'datetime' }
          - { label: 'Image', name: 'imageSource', widget: 'image' }
          - { label: 'Image Alt Text', name: 'imageAlt', widget: 'string' }
          - { label: 'Body', name: 'body', widget: 'markdown' }

      - label: 'Menu'
        name: 'menu'
        file: '/public/data/menu-data.json'
        sortable_fields: [category]
        fields:
          - label: Category
            name: Category
            widget: object
            fields:
              - { label: Category, name: category, widget: list }
          - label: Menu
            name: menu
            widget: list
            add_to_top: true
            label_singular: new menu item
            fields:
              - { label: Name, name: itemName, widget: string }
              - {
                  label: Description,
                  name: description,
                  widget: text,
                  required: false,
                }
              - {
                  label: Category,
                  name: category,
                  widget: select,
                  options: ['Starters', 'Entrees', 'Desserts'],
                }

              - { label: Price, name: price, widget: number }
              - {
                  label: Modifier,
                  name: modifier,
                  widget: string,
                  required: false,
                  hint: Add a modifier description,
                }
              - {
                  label: Modifier Price,
                  name: modifierPrice,
                  widget: number,
                  required: false,
                  hint: Add the modifier price,
                }
              - {
                  label: Available,
                  name: available,
                  widget: boolean,
                  hint: Select "Available" to show on website,
                }
